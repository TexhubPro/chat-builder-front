import{x as Y,u as B,m as G,r as p,o as K,a as D,d as V,f as Z,j as e,t as J,A as E,l as Q,n as X,q as ee}from"./index-EtEDBUvV.js";import{D as te,c as h,b as g,I as T}from"./DashboardLayout-B8yQ125T.js";import{b as se,c as ae}from"./usePageSeo-EE8mv1fT.js";import{t as re,a as L}from"./chunk-ML27DD5T-C1MMw6ZM.js";import{p as R}from"./chunk-VFIJPDYX-BgMsXjDO.js";import{c as z}from"./chunk-EIRINNCE-Dv-gY_8I.js";import"./index-dtaVbuSp.js";import"./useLabel-00ET08Gj.js";import"./useListState--yZ2bbnj.js";var F=Y({slots:{base:["group","relative","overflow-hidden","bg-content3 dark:bg-content2","pointer-events-none","before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2","data-[loaded=true]:pointer-events-auto","data-[loaded=true]:overflow-visible","data-[loaded=true]:!bg-transparent","data-[loaded=true]:before:opacity-0 data-[loaded=true]:before:-z-10 data-[loaded=true]:before:animate-none","data-[loaded=true]:after:opacity-0"],content:["opacity-0","group-data-[loaded=true]:opacity-100"]},variants:{disableAnimation:{true:{base:"before:animate-none before:transition-none after:transition-none",content:"transition-none"},false:{base:"before:animate-shimmer transition-background !duration-300",content:"transition-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{}});function ne(r){var l,n;const o=B(),[s,t]=G(r,F.variantKeys),{as:_,children:b,isLoaded:v=!1,className:k,classNames:d,...j}=s,c=_||"div",u=(n=(l=r.disableAnimation)!=null?l:o?.disableAnimation)!=null?n:!1,N=p.useMemo(()=>F({...t,disableAnimation:u}),[K(t),u,b]),S=D(d?.base,k);return{Component:c,children:b,slots:N,classNames:d,getSkeletonProps:(m={})=>({"data-loaded":V(v),className:N.base({class:D(S,m?.className)}),...j}),getContentProps:(m={})=>({className:N.content({class:D(d?.content,m?.className)})})}}var q=Z((r,l)=>{const{Component:n,children:o,getSkeletonProps:s,getContentProps:t}=ne({...r});return e.jsx(n,{ref:l,...s(),children:e.jsx("div",{...t(),children:o})})});q.displayName="HeroUI.Skeleton";var A=q;async function oe(r){return(r.headers.get("content-type")??"").includes("application/json")?r.json():null}async function le(r,l,n={}){const o=new Headers(n.headers??{});o.has("Accept")||o.set("Accept","application/json"),typeof n.body<"u"&&n.body!==null&&!o.has("Content-Type")&&o.set("Content-Type","application/json"),o.set("Authorization",`Bearer ${l}`);const s=await fetch(`${J}${r}`,{...n,headers:o}),t=await oe(s);if(!s.ok){const _=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Request failed.";throw new E(_,s.status,t)}return t}async function ie(r){return le("/dashboard/overview",r,{method:"GET"})}const de={ru:{pageTitle:"Панель управления",seoDescription:"Профессиональная аналитика: чаты, каналы, доход, лимиты и работа компании.",loadingFailed:"Не удалось загрузить аналитику. Попробуйте снова.",refresh:"Обновить",analytics:"ANALYTICS",subtitle:"Все ключевые метрики компании в одном месте: сообщения, каналы, доход, лимиты и эффективность ассистентов.",updatedAt:"Обновлено",chartTitle:"Общая динамика",range6m:"6 месяцев",range3m:"3 месяца",range30d:"30 дней",range7d:"7 дней",range24h:"24 часа",planNow:"Текущий тариф",noPlan:"Нет активного тарифа",limits:"Лимиты и нагрузка",channels:"Каналы",kpiChats:"Чаты",kpiMessages:"Сообщения",kpiClients:"Клиенты",kpiAutomation:"Авто-ответы",revenueNow:"Доход за месяц",revenuePending:"Ожидает оплаты",activeToday:"Активные чаты сегодня",unread:"Непрочитанные",includedChats:"Лимит чатов",usedChats:"Использовано",remainingChats:"Осталось",overageChats:"Сверх лимита",assistantLimit:"Лимит ассистентов",integrationLimit:"Лимит интеграций",overagePrice:"Цена сверх лимита",messagesLabel:"сообщений",chatsLabel:"чатов",usageLabel:"Использование лимита",operations:"Операционная сводка",ordersNew:"Новые заявки",ordersProgress:"В обработке",ordersDone:"Завершено/доставлено",appointments7d:"Записи на 7 дней",catalog:"Каталог и команда",assistants:"Ассистенты",services:"Услуги",products:"Продукты",avgServicePrice:"Средняя цена услуги",avgProductPrice:"Средняя цена продукта",topServices:"Топ услуг",noServiceStats:"Статистика по услугам пока пустая",activeShort:"активно",newRevenue:"Новая выручка"},en:{pageTitle:"Dashboard",seoDescription:"Professional analytics: chats, channels, revenue, limits, and company operations.",loadingFailed:"Failed to load analytics. Please try again.",refresh:"Refresh",analytics:"ANALYTICS",subtitle:"All key company metrics in one place: messages, channels, revenue, limits, and assistant efficiency.",updatedAt:"Updated",chartTitle:"Overall trend",range6m:"6 Months",range3m:"3 Months",range30d:"30 Days",range7d:"7 Days",range24h:"24 Hours",planNow:"Current plan",noPlan:"No active plan",limits:"Limits and load",channels:"Channels",kpiChats:"Chats",kpiMessages:"Messages",kpiClients:"Clients",kpiAutomation:"Automation",revenueNow:"Revenue this month",revenuePending:"Pending payment",activeToday:"Active chats today",unread:"Unread",includedChats:"Included chats",usedChats:"Used",remainingChats:"Remaining",overageChats:"Overage",assistantLimit:"Assistant limit",integrationLimit:"Integration limit",overagePrice:"Overage price",messagesLabel:"messages",chatsLabel:"chats",usageLabel:"Limit usage",operations:"Operations overview",ordersNew:"New requests",ordersProgress:"In progress",ordersDone:"Completed/delivered",appointments7d:"Appointments 7d",catalog:"Catalog and team",assistants:"Assistants",services:"Services",products:"Products",avgServicePrice:"Average service price",avgProductPrice:"Average product price",topServices:"Top services",noServiceStats:"No service stats yet",activeShort:"active",newRevenue:"New revenue"}};function $(r){return r==="ru"?"ru-RU":"en-US"}function C(r,l,n){const o=typeof r=="number"?r:Number(r);return Number.isFinite(o)?new Intl.NumberFormat($(n),{style:"currency",currency:l,maximumFractionDigits:2}).format(o):`${r} ${l}`}function ce(r,l){const n=new Date(`${r}-01T00:00:00Z`);return Number.isNaN(n.getTime())?r:new Intl.DateTimeFormat($(l),{month:"short"}).format(n)}function ue(r,l){const n=new Date(`${r}T00:00:00Z`);return Number.isNaN(n.getTime())?r:new Intl.DateTimeFormat($(l),{weekday:"short"}).format(n)}function me(r){return r.length===0?[0,0]:r.length===1?[r[0],r[0]]:r}function I(r,l,n,o=10){const s=me(r),t=Math.min(...s,0),b=Math.max(...s,1)-t||1,v=l-o*2,k=n-o*2,d=s.map((y,w)=>{const m=o+v*w/Math.max(s.length-1,1),x=o+k-(y-t)/b*k;return{x:m,y:x}}),j=d.map((y,w)=>`${w===0?"M":"L"} ${y.x} ${y.y}`).join(" "),c=n-o,u=d[0],N=d[d.length-1],S=`${j} L ${N.x} ${c} L ${u.x} ${c} Z`;return{linePath:j,areaPath:S,points:d,baseline:c}}function xe(r){const l=r.toLowerCase();return{assistant:"solar:stars-line-duotone",instagram:"ri:instagram-line",telegram:"solar:plain-2-linear",widget:"solar:widget-2-outline",webchat:"solar:chat-round-line-outline",api:"solar:code-square-linear",whatsapp:"ri:whatsapp-line"}[l]??"solar:chat-round-line-outline"}function pe(r,l){const n=r.toLowerCase();return{assistant:{ru:"Ассистент",en:"Assistant"},instagram:{ru:"Instagram",en:"Instagram"},telegram:{ru:"Telegram",en:"Telegram"},widget:{ru:"Веб-виджет",en:"Web widget"},webchat:{ru:"Веб-чат",en:"Web chat"},api:{ru:"API",en:"API"},whatsapp:{ru:"WhatsApp",en:"WhatsApp"},other:{ru:"Другое",en:"Other"}}[n]?.[l]??r}function _e(){const{user:r,logout:l}=Q(),{locale:n,messages:o}=X(),s=de[n],[t,_]=p.useState(null),[b,v]=p.useState(!0),[k,d]=p.useState(!1),[j,c]=p.useState(null),[u,N]=p.useState("6m");se({title:`${s.pageTitle} | ${o.app.name}`,description:s.seoDescription,locale:n});const S=async()=>{const a=ee();if(!a){c(s.loadingFailed),v(!1);return}v(!0);try{const i=await ie(a);_(i),c(null)}catch(i){i instanceof E?c(i.message):c(s.loadingFailed)}finally{v(!1)}};p.useEffect(()=>{S()},[]);const y=async()=>{d(!0);try{await l()}finally{d(!1)}},w=p.useMemo(()=>{if(!t)return[];const a=t.revenue.history_last_6_months.map(f=>({label:ce(f.month,n),value:Number(f.amount)||0})),i=t.chats.messages_last_7_days.map(f=>({label:ue(f.date,n),value:f.count}));if(u==="6m")return a;if(u==="3m")return a.slice(-3);if(u==="24h"){const f=t.chats.messages_today,H=t.chats.messages_last_7_days.at(-2)?.count??f;return[{label:n==="ru"?"Вчера":"Yesterday",value:H},{label:n==="ru"?"Сегодня":"Today",value:f}]}return i},[t,n,u]),m=w.map(a=>a.value),x=I(m,980,280,16),P=t?.company.currency??"TJS",U=p.useMemo(()=>!t||t.chats.channel_breakdown.length===0?1:Math.max(...t.chats.channel_breakdown.map(a=>a.messages),1),[t]),M=I((t?.revenue.history_last_6_months??[]).map(a=>Number(a.amount)||0),130,46,4),O=I((t?.chats.messages_last_7_days??[]).map(a=>a.count),130,46,4),W=t?[{key:"revenue-now",title:s.revenueNow,value:C(t.revenue.current_month_paid,P,n),icon:"solar:dollar-minimalistic-linear",surface:"bg-[#f8fafc]",iconTone:"bg-[#e2e8f0] text-[#0f172a]",stroke:"#0f172a",spark:M.linePath},{key:"pending",title:s.revenuePending,value:C(t.revenue.pending_amount,P,n),icon:"solar:wallet-money-linear",surface:"bg-[#fff7ed]",iconTone:"bg-[#fed7aa] text-[#9a3412]",stroke:"#ea580c",spark:M.linePath},{key:"active-today",title:s.activeToday,value:t.chats.active_chats_today,icon:"solar:chat-round-check-linear",surface:"bg-[#f0fdf4]",iconTone:"bg-[#dcfce7] text-[#166534]",stroke:"#16a34a",spark:O.linePath},{key:"unread",title:s.unread,value:t.chats.unread_messages,icon:"solar:inbox-unread-linear",surface:"bg-[#eff6ff]",iconTone:"bg-[#dbeafe] text-[#1d4ed8]",stroke:"#2563eb",spark:O.linePath}]:[];return e.jsx(te,{title:s.pageTitle,user:r,onLogout:y,isLoggingOut:k,defaultSelectedKey:"dashboard",children:e.jsxs("div",{className:"space-y-4",children:[j?e.jsx(ae,{color:"danger",title:n==="ru"?"Ошибка":"Error",description:j}):null,b&&!t?e.jsx("div",{className:"grid gap-4",children:e.jsx(h,{shadow:"none",className:"border border-default-200 bg-white",children:e.jsxs(g,{className:"space-y-3 p-5",children:[e.jsx(A,{className:"h-4 w-40 rounded-md"}),e.jsx(A,{className:"h-9 w-64 rounded-md"}),e.jsx(A,{className:"h-3 w-full rounded-md"}),e.jsx(A,{className:"h-40 w-full rounded-md"})]})})}):null,!b&&t?e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"grid gap-4 xl:grid-cols-[1.65fr_1fr]",children:[e.jsx(h,{shadow:"none",className:"border border-default-200 bg-white",children:e.jsxs(g,{className:"space-y-5 p-5 sm:p-6",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.22em] text-default-500",children:s.analytics}),e.jsx("h2",{className:"text-2xl font-semibold text-foreground sm:text-[2rem]",children:t.company.name}),e.jsx("p",{className:"max-w-3xl text-sm leading-6 text-default-600",children:s.subtitle})]}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:W.map(a=>e.jsxs("div",{className:"rounded-large border border-default-200 bg-default-50 p-3",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[e.jsx("span",{className:`flex h-9 w-9 items-center justify-center rounded-full ${a.iconTone}`,children:e.jsx(T,{icon:a.icon,width:16})}),e.jsx("p",{className:"text-[11px] text-default-500",children:a.title})]}),e.jsx("p",{className:"text-2xl font-semibold text-foreground",children:a.value})]},a.key))}),e.jsxs("div",{className:"rounded-large border border-default-200 bg-default-50 p-3",children:[e.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-2",children:[e.jsx("p",{className:"text-sm font-medium text-default-700",children:s.chartTitle}),e.jsxs(re,{size:"sm",selectedKey:u,onSelectionChange:a=>{const i=String(a);N(i)},classNames:{base:"max-w-full overflow-x-auto",tabList:"bg-white border border-default-200 p-1",cursor:"bg-default-100 border border-default-200 shadow-none",tab:"text-default-500 data-[selected=true]:text-foreground px-3"},children:[e.jsx(L,{title:s.range6m},"6m"),e.jsx(L,{title:s.range3m},"3m"),e.jsx(L,{title:s.range30d},"30d"),e.jsx(L,{title:s.range7d},"7d"),e.jsx(L,{title:s.range24h},"24h")]})]}),e.jsxs("svg",{viewBox:"0 0 980 220",className:"h-[220px] w-full rounded-medium border border-default-200 bg-white",role:"img","aria-label":s.chartTitle,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"dashboard-area",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#111827",stopOpacity:"0.2"}),e.jsx("stop",{offset:"100%",stopColor:"#111827",stopOpacity:"0.02"})]})}),[.2,.4,.6,.8].map(a=>{const i=16+248*a;return e.jsx("line",{x1:16,x2:964,y1:i,y2:i,stroke:"rgba(148, 163, 184, 0.45)",strokeDasharray:"6 6"},a)}),e.jsx("path",{d:x.areaPath,fill:"url(#dashboard-area)"}),e.jsx("path",{d:x.linePath,fill:"none",stroke:"#111827",strokeWidth:3.5,strokeLinecap:"round"}),x.points.length>0?e.jsx("circle",{cx:x.points[x.points.length-1].x,cy:x.points[x.points.length-1].y,r:5,fill:"#ffffff",stroke:"#111827",strokeWidth:2.5}):null]}),e.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2 sm:grid-cols-4 lg:grid-cols-6",children:w.slice(-6).map(a=>e.jsxs("div",{className:"rounded-medium border border-default-200 bg-white px-2.5 py-1.5",children:[e.jsx("p",{className:"text-[11px] text-default-500",children:a.label}),e.jsx("p",{className:"text-xs font-semibold text-foreground",children:a.value})]},a.label))})]})]})}),e.jsx(h,{shadow:"none",className:"border border-default-200 bg-white",children:e.jsxs(g,{className:"space-y-4 p-5",children:[e.jsx("div",{className:"flex items-start justify-between gap-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-default-500",children:s.planNow}),e.jsx("h3",{className:"text-2xl font-semibold text-foreground",children:t.subscription.plan?.name??s.noPlan})]})}),e.jsxs("div",{className:"space-y-1.5 rounded-large border border-default-200 bg-default-50 p-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-default-500",children:[e.jsx("span",{children:s.usageLabel}),e.jsxs("span",{children:[t.limits.usage_percent,"%"]})]}),e.jsx(R,{value:t.limits.usage_percent,size:"sm",classNames:{track:"bg-default-100",indicator:"bg-foreground"}}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-1",children:[e.jsxs("div",{className:"rounded-medium border border-default-200 bg-white p-2",children:[e.jsx("p",{className:"text-[11px] text-default-500",children:s.usedChats}),e.jsx("p",{className:"text-lg font-semibold text-foreground",children:t.limits.used_chats})]}),e.jsxs("div",{className:"rounded-medium border border-default-200 bg-white p-2",children:[e.jsx("p",{className:"text-[11px] text-default-500",children:s.remainingChats}),e.jsx("p",{className:"text-lg font-semibold text-foreground",children:t.limits.remaining_chats})]})]})]}),e.jsx("div",{className:"space-y-2",children:[[s.includedChats,t.limits.included_chats],[s.overageChats,t.limits.overage_chats],[s.assistantLimit,t.limits.assistant_limit],[s.integrationLimit,t.limits.integrations_per_channel_limit],[s.overagePrice,C(t.limits.overage_chat_price,P,n)]].map(([a,i])=>e.jsxs("div",{className:"flex items-center justify-between rounded-medium border border-default-200 bg-default-50 px-3 py-2",children:[e.jsx("p",{className:"text-sm text-default-600",children:a}),e.jsx("p",{className:"text-sm font-semibold text-foreground",children:i})]},String(a)))}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"rounded-medium border border-default-200 bg-default-50 p-3",children:[e.jsx("p",{className:"text-[11px] text-default-500",children:s.activeToday}),e.jsx("p",{className:"text-xl font-semibold text-foreground",children:t.chats.active_chats_today})]}),e.jsxs("div",{className:"rounded-medium border border-default-200 bg-default-50 p-3",children:[e.jsx("p",{className:"text-[11px] text-default-500",children:s.unread}),e.jsx("p",{className:"text-xl font-semibold text-foreground",children:t.chats.unread_messages})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"rounded-medium border border-default-200 bg-default-50 p-2 text-center",children:[e.jsx("p",{className:"text-[11px] text-default-500",children:s.ordersNew}),e.jsx("p",{className:"text-base font-semibold text-foreground",children:t.operations.orders.new})]}),e.jsxs("div",{className:"rounded-medium border border-default-200 bg-default-50 p-2 text-center",children:[e.jsx("p",{className:"text-[11px] text-default-500",children:s.ordersProgress}),e.jsx("p",{className:"text-base font-semibold text-foreground",children:t.operations.orders.in_progress+t.operations.orders.appointments})]}),e.jsxs("div",{className:"rounded-medium border border-default-200 bg-default-50 p-2 text-center",children:[e.jsx("p",{className:"text-[11px] text-default-500",children:s.ordersDone}),e.jsx("p",{className:"text-base font-semibold text-foreground",children:t.operations.orders.completed+t.operations.orders.delivered})]})]})]})})]}),e.jsxs("section",{className:"grid gap-4 xl:grid-cols-[1.15fr_1fr_0.9fr]",children:[e.jsx(h,{shadow:"none",className:"border border-default-200 bg-white",children:e.jsxs(g,{className:"space-y-3 p-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:s.channels}),e.jsx("div",{className:"space-y-2.5",children:t.chats.channel_breakdown.length>0?t.chats.channel_breakdown.map(a=>e.jsxs("div",{className:"rounded-medium border border-default-200 bg-default-50 px-3 py-2.5",children:[e.jsxs("div",{className:"mb-1.5 flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{icon:xe(a.channel),width:18,className:"text-default-700"}),e.jsx("p",{className:"text-sm font-medium text-foreground",children:pe(a.channel,n)})]}),e.jsxs("p",{className:"text-xs text-default-500",children:[a.chats," ",s.chatsLabel]})]}),e.jsx(R,{value:Math.round(a.messages/U*100),size:"sm",color:"primary",classNames:{track:"bg-default-100"}}),e.jsxs("p",{className:"mt-1 text-[11px] text-default-500",children:[a.messages," ",s.messagesLabel]})]},a.channel)):e.jsx("p",{className:"rounded-medium border border-default-200 bg-default-50 p-3 text-sm text-default-500",children:"-"})})]})}),e.jsx(h,{shadow:"none",className:"border border-default-200 bg-white",children:e.jsxs(g,{className:"space-y-3 p-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:s.operations}),e.jsx("div",{className:"space-y-2",children:[{label:s.ordersNew,value:t.operations.orders.new,icon:"solar:clipboard-list-linear",tone:"bg-[#eff6ff] text-[#1d4ed8]"},{label:s.ordersProgress,value:t.operations.orders.in_progress+t.operations.orders.appointments+t.operations.orders.confirmed,icon:"solar:clock-circle-linear",tone:"bg-[#fff7ed] text-[#c2410c]"},{label:s.ordersDone,value:t.operations.orders.completed+t.operations.orders.delivered,icon:"solar:check-circle-linear",tone:"bg-[#ecfdf5] text-[#047857] "},{label:s.appointments7d,value:t.operations.upcoming_appointments_7d,icon:"solar:calendar-mark-linear",tone:"bg-[#f0f9ff] text-[#0369a1]"}].map(a=>e.jsxs("div",{className:"flex items-center justify-between rounded-medium border border-default-200 bg-default-50 px-3 py-2.5",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("span",{className:`flex h-8 w-8 items-center justify-center rounded-full ${a.tone}`,children:e.jsx(T,{icon:a.icon,width:16})}),e.jsx("p",{className:"text-sm text-default-700",children:a.label})]}),e.jsx("p",{className:"text-xl font-semibold text-foreground",children:a.value})]},a.label))})]})}),e.jsx(h,{shadow:"none",className:"border border-default-200 bg-white",children:e.jsxs(g,{className:"space-y-4 p-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:s.catalog}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"rounded-medium border border-default-200 bg-default-50 p-2.5 text-center",children:[e.jsx("p",{className:"text-[11px] text-default-500",children:s.assistants}),e.jsx("p",{className:"text-lg font-semibold text-foreground",children:t.catalog.assistants_total}),e.jsxs("p",{className:"text-[11px] text-default-500",children:[t.catalog.assistants_active," ",s.activeShort]})]}),e.jsxs("div",{className:"rounded-medium border border-default-200 bg-default-50 p-2.5 text-center",children:[e.jsx("p",{className:"text-[11px] text-default-500",children:s.services}),e.jsx("p",{className:"text-lg font-semibold text-foreground",children:t.catalog.services_total}),e.jsxs("p",{className:"text-[11px] text-default-500",children:[t.catalog.services_active," ",s.activeShort]})]}),e.jsxs("div",{className:"rounded-medium border border-default-200 bg-default-50 p-2.5 text-center",children:[e.jsx("p",{className:"text-[11px] text-default-500",children:s.products}),e.jsx("p",{className:"text-lg font-semibold text-foreground",children:t.catalog.products_total}),e.jsxs("p",{className:"text-[11px] text-default-500",children:[t.catalog.products_active," ",s.activeShort]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"rounded-medium border border-default-200 bg-default-50 p-3",children:[e.jsx("p",{className:"text-xs text-default-500",children:s.avgServicePrice}),e.jsx("p",{className:"text-lg font-semibold text-foreground",children:C(t.catalog.average_service_price,P,n)})]}),e.jsxs("div",{className:"rounded-medium border border-default-200 bg-default-50 p-3",children:[e.jsx("p",{className:"text-xs text-default-500",children:s.avgProductPrice}),e.jsx("p",{className:"text-lg font-semibold text-foreground",children:C(t.catalog.average_product_price,P,n)})]})]})]})})]}),e.jsxs("section",{className:"grid gap-4 xl:grid-cols-[1.25fr_1fr]",children:[e.jsx(h,{shadow:"none",className:"border border-default-200 bg-white",children:e.jsxs(g,{className:"space-y-3 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:s.topServices}),e.jsx(z,{size:"sm",variant:"flat",color:"default",children:t.catalog.top_services.length})]}),t.catalog.top_services.length>0?e.jsx("div",{className:"space-y-2",children:t.catalog.top_services.map((a,i)=>e.jsxs("div",{className:"flex items-center justify-between rounded-medium border border-default-200 bg-default-50 px-3 py-2.5",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("p",{className:"truncate text-sm font-semibold text-foreground",children:[i+1,". ",a.name]}),e.jsx("p",{className:"text-xs text-default-500",children:C(a.revenue,P,n)})]}),e.jsx(z,{size:"sm",color:"primary",variant:"flat",children:a.orders_count})]},a.id))}):e.jsx("p",{className:"rounded-medium border border-default-200 bg-default-50 p-3 text-sm text-default-500",children:s.noServiceStats})]})}),e.jsx(h,{shadow:"none",className:"border border-default-200 bg-white",children:e.jsxs(g,{className:"space-y-3 p-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:s.limits}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{label:s.kpiChats,value:t.kpis.total_chats,icon:"solar:chat-round-line-outline"},{label:s.kpiMessages,value:t.kpis.total_messages,icon:"solar:chat-dots-linear"},{label:s.kpiClients,value:t.kpis.total_clients,icon:"solar:users-group-rounded-linear"},{label:s.kpiAutomation,value:`${t.kpis.automation_rate_percent}%`,icon:"solar:stars-line-duotone"}].map(a=>e.jsxs("div",{className:"rounded-medium border border-default-200 bg-default-50 p-3",children:[e.jsxs("div",{className:"mb-1 flex items-center justify-between gap-2",children:[e.jsx(T,{icon:a.icon,width:16,className:"text-default-700"}),e.jsx("p",{className:"text-lg font-semibold text-foreground",children:a.value})]}),e.jsx("p",{className:"text-xs text-default-500",children:a.label})]},a.label))})]})})]})]}):null]})})}export{_e as default};
