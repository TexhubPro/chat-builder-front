import{r as s,u as Ee,R as ia,m as ra,x as oa,a as I,I as da,o as ua,d as l,b as ae,e as Me,f as ca,j as p}from"./index-Cp4SkFMx.js";import{u as pa}from"./index-e4bolkgU.js";import{K as ba,q as We,g as Oe,a as ke,y as fa,e as va,aa as Re,u as te,$ as De,o as Be,p as ma,l as ha,f as Ca}from"./usePageSeo-DqAP74PL.js";import{$ as $a,C as Pa}from"./useLabel-BbAmCKc3.js";import{$ as ya,a as xa,u as ga,F as Ia}from"./chunk-ICU6NNET-ChHTWRKQ.js";function Ma(e,d,c){let u=ba(()=>{c&&c(d)});s.useEffect(()=>{var n;let r=e==null||(n=e.current)===null||n===void 0?void 0:n.form;return r?.addEventListener("reset",u),()=>{r?.removeEventListener("reset",u)}},[e])}function Wa(e){const d=Ee(),c=d?.labelPlacement;return s.useMemo(()=>{var u,n;const r=(n=(u=e.labelPlacement)!=null?u:c)!=null?n:"inside";return r==="inside"&&!e.label?"outside":r},[e.labelPlacement,c,e.label])}function Ra(e){let{description:d,errorMessage:c,isInvalid:u,validationState:n}=e,{labelProps:r,fieldProps:v}=$a(e),m=We([!!d,!!c,u,n]),b=We([!!d,!!c,u,n]);return v=Oe(v,{"aria-describedby":[m,b,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:r,fieldProps:v,descriptionProps:{id:m},errorMessageProps:{id:b}}}function Da(e,d){let{inputElementType:c="input",isDisabled:u=!1,isRequired:n=!1,isReadOnly:r=!1,type:v="text",validationBehavior:m="aria"}=e,[b,M]=ke(e.value,e.defaultValue||"",e.onChange),{focusableProps:f}=fa(e,d),W=ya({...e,value:b}),{isInvalid:R,validationErrors:P,validationDetails:C}=W.displayValidation,{labelProps:D,fieldProps:_,descriptionProps:w,errorMessageProps:B}=Ra({...e,isInvalid:R,errorMessage:e.errorMessage||P}),k=va(e,{labelable:!0});const a={type:v,pattern:e.pattern};let[F]=s.useState(b);var $;return Ma(d,($=e.defaultValue)!==null&&$!==void 0?$:F,M),xa(e,W,d),{labelProps:D,inputProps:Oe(k,c==="input"?a:void 0,{disabled:u,readOnly:r,required:n&&m==="native","aria-required":n&&m==="aria"||void 0,"aria-invalid":R||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],"aria-controls":e["aria-controls"],value:b,onChange:y=>M(y.target.value),autoComplete:e.autoComplete,autoCapitalize:e.autoCapitalize,maxLength:e.maxLength,minLength:e.minLength,name:e.name,form:e.form,placeholder:e.placeholder,inputMode:e.inputMode,autoCorrect:e.autoCorrect,spellCheck:e.spellCheck,[parseInt(ia.version,10)>=17?"enterKeyHint":"enterkeyhint"]:e.enterKeyHint,onCopy:e.onCopy,onCut:e.onCut,onPaste:e.onPaste,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate,onSelect:e.onSelect,onBeforeInput:e.onBeforeInput,onInput:e.onInput,...f,..._}),descriptionProps:w,errorMessageProps:B,isInvalid:R,validationErrors:P,validationDetails:C}}function Ba(e){var d,c,u,n,r,v,m;const b=Ee(),{validationBehavior:M}=ga(Ia)||{},[f,W]=ra(e,Re.variantKeys),{ref:R,as:P,type:C,label:D,baseRef:_,wrapperRef:w,description:B,className:k,classNames:a,autoFocus:F,startContent:$,endContent:y,onClear:h,onChange:L,validationState:G,validationBehavior:H=(d=M??b?.validationBehavior)!=null?d:"native",innerWrapperRef:T,onValueChange:J=()=>{},...q}=f,de=s.useCallback(t=>{J(t??"")},[J]),[le,Ne]=s.useState(!1),je=P||"div",ue=(u=(c=e.disableAnimation)!=null?c:b?.disableAnimation)!=null?u:!1,o=te(R),we=te(_),Fe=te(w),Se=te(T),[E,S]=ke(f.value,(n=f.defaultValue)!=null?n:"",de),K=C==="file",Ve=((m=(v=(r=o?.current)==null?void 0:r.files)==null?void 0:v.length)!=null?m:0)>0,_e=["date","time","month","week","range"].includes(C),O=!oa(E)||_e||Ve,Q=O||le,ce=C==="hidden",pe=e.isMultiline,be=I(a?.base,k,O?"is-filled":""),He=s.useCallback(()=>{var t;K?o.current.value="":S(""),h?.(),(t=o.current)==null||t.focus()},[S,h,K]);pa(()=>{o.current&&S(o.current.value)},[o.current]);const{labelProps:fe,inputProps:N,isInvalid:Te,validationErrors:se,validationDetails:qe,descriptionProps:Ke,errorMessageProps:ve}=Da({...e,validationBehavior:H,autoCapitalize:e.autoCapitalize,value:E,"aria-label":e.label?e["aria-label"]:da(e["aria-label"],e.placeholder),inputElementType:pe?"textarea":"input",onChange:S},o);K&&(delete N.value,delete N.onChange);const{isFocusVisible:X,isFocused:Y,focusProps:me}=De({autoFocus:F,isTextInput:!0}),{isHovered:Z,hoverProps:Ae}=Be({isDisabled:!!e?.isDisabled}),{isHovered:A,hoverProps:ze}=Be({isDisabled:!!e?.isDisabled}),{focusProps:he,isFocusVisible:Ce}=De(),{focusWithinProps:$e}=ma({onFocusWithinChange:Ne}),{pressProps:Pe}=ha({isDisabled:!!e?.isDisabled||!!e?.isReadOnly,onPress:He}),V=G==="invalid"||Te,x=Wa({labelPlacement:e.labelPlacement,label:D}),ne=typeof f.errorMessage=="function"?f.errorMessage({isInvalid:V,validationErrors:se,validationDetails:qe}):f.errorMessage||se?.join(" "),z=!!h||e.isClearable,ye=!!D||!!B||!!ne,j=!!f.placeholder,xe=!!D,ie=!!B||!!ne,re=x==="outside-left",oe=x==="outside-top",ge=x==="outside"||re||oe,Ue=x==="inside",ee=o.current?(!o.current.value||o.current.value===""||!E||E==="")&&j:!1,g=!!$,Ge=ge?re||oe||j||x==="outside"&&g:!1,Je=x==="outside"&&!j&&!g,i=s.useMemo(()=>Re({...W,isInvalid:V,labelPlacement:x,isClearable:z,disableAnimation:ue}),[ua(W),V,x,z,g,ue]),Qe=s.useCallback((t={})=>({ref:we,className:i.base({class:be}),"data-slot":"base","data-filled":l(O||j||g||ee||K),"data-filled-within":l(Q||j||g||ee||K),"data-focus-within":l(le),"data-focus-visible":l(X),"data-readonly":l(e.isReadOnly),"data-focus":l(Y),"data-hover":l(Z||A),"data-required":l(e.isRequired),"data-invalid":l(V),"data-disabled":l(e.isDisabled),"data-has-elements":l(ye),"data-has-helper":l(ie),"data-has-label":l(xe),"data-has-value":l(!ee),"data-hidden":l(ce),...$e,...t}),[i,be,O,Y,Z,A,V,ie,xe,ye,ee,g,le,X,Q,j,$e,ce,e.isReadOnly,e.isRequired,e.isDisabled]),Xe=s.useCallback((t={})=>({"data-slot":"label",className:i.label({class:a?.label}),...ae(fe,ze,t)}),[i,A,fe,a?.label]),Ie=s.useCallback(t=>{t.key==="Escape"&&E&&(z||h)&&!e.isReadOnly&&(S(""),h?.())},[E,S,h,z,e.isReadOnly]),Ye=s.useCallback((t={})=>({"data-slot":"input","data-filled":l(O),"data-filled-within":l(Q),"data-has-start-content":l(g),"data-has-end-content":l(!!y),"data-type":C,className:i.input({class:I(a?.input,O?"is-filled":"",pe?"pe-0":"",C==="password"?"[&::-ms-reveal]:hidden":"")}),...ae(me,N,Ca(q,{enabled:!0,labelable:!0,omitEventNames:new Set(Object.keys(N))}),t),"aria-readonly":l(e.isReadOnly),onChange:Me(N.onChange,L),onKeyDown:Me(N.onKeyDown,t.onKeyDown,Ie),ref:o}),[i,E,me,N,q,O,Q,g,y,a?.input,e.isReadOnly,e.isRequired,L,Ie]),Ze=s.useCallback((t={})=>({ref:Fe,"data-slot":"input-wrapper","data-hover":l(Z||A),"data-focus-visible":l(X),"data-focus":l(Y),className:i.inputWrapper({class:I(a?.inputWrapper,O?"is-filled":"")}),...ae(t,Ae),onClick:U=>{o.current&&U.currentTarget===U.target&&o.current.focus()},style:{cursor:"text",...t.style}}),[i,Z,A,X,Y,E,a?.inputWrapper]),ea=s.useCallback((t={})=>({...t,ref:Se,"data-slot":"inner-wrapper",onClick:U=>{o.current&&U.currentTarget===U.target&&o.current.focus()},className:i.innerWrapper({class:I(a?.innerWrapper,t?.className)})}),[i,a?.innerWrapper]),aa=s.useCallback((t={})=>({...t,"data-slot":"main-wrapper",className:i.mainWrapper({class:I(a?.mainWrapper,t?.className)})}),[i,a?.mainWrapper]),ta=s.useCallback((t={})=>({...t,"data-slot":"helper-wrapper",className:i.helperWrapper({class:I(a?.helperWrapper,t?.className)})}),[i,a?.helperWrapper]),la=s.useCallback((t={})=>({...t,...Ke,"data-slot":"description",className:i.description({class:I(a?.description,t?.className)})}),[i,a?.description]),sa=s.useCallback((t={})=>({...t,...ve,"data-slot":"error-message",className:i.errorMessage({class:I(a?.errorMessage,t?.className)})}),[i,ve,a?.errorMessage]),na=s.useCallback((t={})=>({...t,type:"button",tabIndex:-1,disabled:e.isDisabled,"aria-label":"clear input","data-slot":"clear-button","data-focus-visible":l(Ce),className:i.clearButton({class:I(a?.clearButton,t?.className)}),...ae(Pe,he)}),[i,Ce,Pe,he,a?.clearButton]);return{Component:je,classNames:a,domRef:o,label:D,description:B,startContent:$,endContent:y,labelPlacement:x,isClearable:z,hasHelper:ie,hasStartContent:g,isLabelOutside:Ge,isOutsideLeft:re,isOutsideTop:oe,isLabelOutsideAsPlaceholder:Je,shouldLabelBeOutside:ge,shouldLabelBeInside:Ue,hasPlaceholder:j,isInvalid:V,errorMessage:ne,getBaseProps:Qe,getLabelProps:Xe,getInputProps:Ye,getMainWrapperProps:aa,getInputWrapperProps:Ze,getInnerWrapperProps:ea,getHelperWrapperProps:ta,getDescriptionProps:la,getErrorMessageProps:sa,getClearButtonProps:na}}var Le=ca((e,d)=>{const{Component:c,label:u,description:n,isClearable:r,startContent:v,endContent:m,labelPlacement:b,hasHelper:M,isOutsideLeft:f,isOutsideTop:W,shouldLabelBeOutside:R,errorMessage:P,isInvalid:C,getBaseProps:D,getLabelProps:_,getInputProps:w,getInnerWrapperProps:B,getInputWrapperProps:k,getMainWrapperProps:a,getHelperWrapperProps:F,getDescriptionProps:$,getErrorMessageProps:y,getClearButtonProps:h}=Ba({...e,ref:d}),L=u?p.jsx("label",{..._(),children:u}):null,G=s.useMemo(()=>r?p.jsx("button",{...h(),children:m||p.jsx(Pa,{})}):m,[r,h]),H=s.useMemo(()=>{const q=C&&P;return!M||!(q||n)?null:p.jsx("div",{...F(),children:q?p.jsx("div",{...y(),children:P}):p.jsx("div",{...$(),children:n})})},[M,C,P,n,F,y,$]),T=s.useMemo(()=>p.jsxs("div",{...B(),children:[v,p.jsx("input",{...w()}),G]}),[v,G,w,B]),J=s.useMemo(()=>R?p.jsxs("div",{...a(),children:[p.jsxs("div",{...k(),children:[!f&&!W?L:null,T]}),H]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{...k(),children:[L,T]}),H]}),[b,H,R,L,T,P,n,a,k,y,$]);return p.jsxs(c,{...D(),children:[f||W?L:null,J]})});Le.displayName="HeroUI.Input";var ja=Le;export{Ra as $,Ba as a,ja as i,Wa as u};
